<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego de Detectives</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f9fafb, #e2e8f0);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <div id="app" class="max-w-3xl bg-white shadow-lg rounded-lg p-6 text-center">
        <h1 class="text-3xl font-bold mb-4 text-blue-600">ğŸ” Juego de Detectives</h1>
        <p id="scenario" class="text-lg mb-6">
            Un ladrÃ³n ha robado un objeto valioso en una ciudad. Â¡Sigue las pistas para atraparlo!
        </p>
        <div id="game-content" class="hidden">
            <p class="bg-yellow-100 text-yellow-800 text-left font-semibold p-3 rounded mb-4">
                âš ï¸ Sigue las pistas sobre el prÃ³ximo destino del ladrÃ³n:
            </p>
            <ul id="pistas" class="text-left list-disc list-inside mb-6 text-gray-700"></ul>
            <div id="ciudades" class="grid grid-cols-1 md:grid-cols-3 gap-4"></div>
        </div>
        <div id="final-step" class="hidden">
            <p class="text-lg font-semibold mb-4">Â¿QuiÃ©n es el ladrÃ³n? ğŸ¤”</p>
            <div id="suspects" class="grid grid-cols-2 gap-4"></div>
        </div>
        <button id="start-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 mt-4">
            Iniciar Juego
        </button>
        <p id="puntaje" class="text-lg mt-6 font-semibold text-gray-800 hidden">Puntaje: <span id="score">0</span></p>
    </div>

    <script>
        const cities = [
            { name: "ParÃ­s", emoji: "ğŸ—¼", pistas: ["Tiene un monumento famoso que fue construido en 1889.", "Es conocida como la ciudad del amor.", "Es famosa por su moda y arte."] },
            { name: "Londres", emoji: "ğŸ°", pistas: ["AquÃ­ estÃ¡ el Big Ben.", "Es conocida por la realeza.", "Tiene un famoso puente llamado Tower Bridge."] },
            { name: "Roma", emoji: "ğŸ›ï¸", pistas: ["Es conocida como la Ciudad Eterna.", "Tiene un famoso anfiteatro llamado Coliseo.", "Fue la capital de un gran imperio."] },
            { name: "Tokio", emoji: "ğŸ—¾", pistas: ["Es famosa por sus cerezos en flor.", "El Monte Fuji estÃ¡ cerca.", "Es conocida por su tecnologÃ­a avanzada."] },
            { name: "Nueva York", emoji: "ğŸ—½", pistas: ["Tiene un monumento llamado Estatua de la Libertad.", "Es conocida como la ciudad que nunca duerme.", "Tiene un parque central famoso llamado Central Park."] },
            { name: "El Cairo", emoji: "ğŸ•Œ", pistas: ["Tiene pirÃ¡mides antiguas.", "El rÃ­o Nilo pasa por aquÃ­.", "Es conocida por su historia faraÃ³nica."] },
            { name: "SÃ­dney", emoji: "ğŸŒ‰", pistas: ["Tiene una Ã³pera con un diseÃ±o Ãºnico.", "Es conocida por sus canguros.", "EstÃ¡ cerca de la Gran Barrera de Coral."] },
            { name: "RÃ­o de Janeiro", emoji: "ğŸŒ´", pistas: ["Tiene un Cristo gigante en la montaÃ±a.", "Es famosa por su carnaval.", "Tiene playas como Copacabana."] },
            { name: "MoscÃº", emoji: "ğŸ¯", pistas: ["Tiene un famoso Kremlin.", "La Plaza Roja estÃ¡ aquÃ­.", "Es conocida por su catedral de cÃºpulas coloridas."] },
            { name: "Bangkok", emoji: "ğŸŒ…", pistas: ["Es conocida por sus templos dorados.", "El rÃ­o Chao Phraya pasa por aquÃ­.", "Tiene un mercado flotante famoso."] },
            { name: "DubÃ¡i", emoji: "ğŸŒ†", pistas: ["Tiene un rascacielos llamado Burj Khalifa.", "Es conocida por sus islas artificiales.", "Es famosa por el lujo y las compras."] },
            { name: "Ãmsterdam", emoji: "ğŸš²", pistas: ["Es conocida por sus canales.", "Tiene una gran cantidad de bicicletas.", "Es famosa por su historia artÃ­stica."] },
            { name: "Atenas", emoji: "ğŸº", pistas: ["Tiene un monumento llamado la AcrÃ³polis.", "Es conocida como la cuna de la civilizaciÃ³n occidental.", "Es famosa por la mitologÃ­a griega."] },
            { name: "PekÃ­n", emoji: "ğŸ¯", pistas: ["Tiene una plaza famosa llamada Tiananmen.", "EstÃ¡ cerca de la Gran Muralla China.", "Es conocida por su ciudad prohibida."] },
            { name: "Venecia", emoji: "ğŸš¤", pistas: ["Es conocida por sus canales y gÃ³ndolas.", "No tiene calles, solo agua.", "Tiene una plaza famosa llamada San Marcos."] },
            { name: "Buenos Aires", emoji: "ğŸ’ƒ", pistas: ["Es famosa por el tango.", "Tiene un teatro llamado Teatro ColÃ³n.", "Es conocida como la ParÃ­s de SudamÃ©rica."] },
            { name: "Los Ãngeles", emoji: "ğŸ¬", pistas: ["Es conocida como la capital del cine.", "Tiene un paseo de la fama con estrellas.", "Hollywood estÃ¡ aquÃ­."] },
            { name: "Ciudad de MÃ©xico", emoji: "ğŸ•Œ", pistas: ["Tiene un gran ZÃ³calo.", "Es conocida por sus pirÃ¡mides cercanas, como TeotihuacÃ¡n.", "Es famosa por su comida picante."] },
            { name: "BerlÃ­n", emoji: "ğŸ™ï¸", pistas: ["Tiene un famoso muro que fue derribado.", "Es conocida por su historia de la Segunda Guerra Mundial.", "Tiene una puerta llamada Puerta de Brandeburgo."] },
            { name: "San Francisco", emoji: "ğŸŒ‰", pistas: ["Tiene un puente famoso llamado Golden Gate.", "Es conocida por sus colinas empinadas.", "Alcatraz estÃ¡ cerca."] },
            { name: "Toronto", emoji: "ğŸ—¼", pistas: ["Tiene una torre llamada CN Tower.", "Es conocida por sus lagos cercanos.", "Es una de las ciudades mÃ¡s multiculturales del mundo."] },
            { name: "Barcelona", emoji: "ğŸ¨", pistas: ["Tiene una iglesia famosa llamada Sagrada Familia.", "Es conocida por su arquitecto Antoni GaudÃ­.", "Tiene un paseo famoso llamado Las Ramblas."] },
            { name: "Estambul", emoji: "ğŸ•Œ", pistas: ["Es conocida como la ciudad entre dos continentes.", "Tiene una mezquita llamada Santa SofÃ­a.", "Es famosa por su bazar cubierto."] },
            { name: "Kioto", emoji: "ğŸŒ¸", pistas: ["Es famosa por sus templos y jardines zen.", "Tiene un barrio de geishas llamado Gion.", "Es conocida por sus cerezos en flor."] },
            { name: "Lisboa", emoji: "ğŸŒ‰", pistas: ["Es conocida por su puente rojo llamado 25 de Abril.", "Tiene tranvÃ­as histÃ³ricos.", "Es famosa por sus pasteles de nata."] },
            { name: "SeÃºl", emoji: "ğŸ", pistas: ["Es conocida por el palacio Gyeongbokgung.", "Es el hogar del K-Pop.", "Tiene un mercado famoso llamado Namdaemun."] },
            { name: "Hanoi", emoji: "ğŸš²", pistas: ["Tiene un lago llamado Hoan Kiem.", "Es conocida por su casco antiguo.", "Es famosa por su comida callejera, como el Pho."] },
            { name: "Cape Town", emoji: "â›°ï¸", pistas: ["Tiene una montaÃ±a llamada Table Mountain.", "Es conocida por su puerto marÃ­timo.", "EstÃ¡ cerca del Cabo de Buena Esperanza."] },
            { name: "Mumbai", emoji: "ğŸŒ…", pistas: ["Es conocida por la Puerta de la India.", "Es el hogar de Bollywood.", "Tiene una gran mezcla de culturas e idiomas."] }
        ];

        const suspects = ["Juan ğŸ•µï¸â€â™‚ï¸", "Maria ğŸ•µï¸â€â™€ï¸", "Pedro ğŸ•µï¸â€â™‚ï¸", "LucÃ­a ğŸ•µï¸â€â™€ï¸"];
        let score = 0;
        let round = 0;
        let shuffledCities = [];
        let chosenLadrÃ³n = "";

        document.getElementById("start-btn").addEventListener("click", startGame);

        function startGame() {
            score = 0;
            round = 0;
            shuffledCities = shuffleArray([...cities]).slice(0, 3);
            chosenLadrÃ³n = suspects[Math.floor(Math.random() * suspects.length)];
            document.getElementById("puntaje").classList.remove("hidden");
            document.getElementById("score").textContent = score;
            showScenario();
        }

        function showScenario() {
            document.getElementById("start-btn").classList.add("hidden");
            document.getElementById("game-content").classList.remove("hidden");

            const pistasList = document.getElementById("pistas");
            pistasList.innerHTML = "";
            shuffledCities[round].pistas.forEach((pista) => {
                const li = document.createElement("li");
                li.textContent = pista;
                pistasList.appendChild(li);
            });

            showOptions();
        }

        function showOptions() {
            const citiesDiv = document.getElementById("ciudades");
            citiesDiv.innerHTML = "";

            const correctCity = shuffledCities[round];
            const incorrectCities = shuffleArray(cities.filter(city => city.name !== correctCity.name)).slice(0, 2);
            const options = shuffleArray([correctCity, ...incorrectCities]);

            options.forEach((city) => {
                const button = document.createElement("button");
                button.className = "p-4 bg-gray-200 rounded hover:bg-gray-300 flex flex-col items-center";
                button.innerHTML = `<span class="text-3xl">${city.emoji}</span><span>${city.name}</span>`;
                button.addEventListener("click", () => checkAnswer(city));
                citiesDiv.appendChild(button);
            });
        }

        function checkAnswer(city) {
            if (city.name === shuffledCities[round].name) {
                score += 10;
                alert("Â¡Correcto!");
                round++;
                if (round < 3) {
                    showScenario();
                } else {
                    showFinal();
                }
            } else {
                alert("Â¡Incorrecto! El ladrÃ³n escapÃ³.");
            }
            document.getElementById("score").textContent = score;
        }

        function showFinal() {
            document.getElementById("game-content").classList.add("hidden");
            document.getElementById("final-step").classList.remove("hidden");

            const suspectsDiv = document.getElementById("suspects");
            suspectsDiv.innerHTML = "";

            shuffleArray([...suspects]).forEach((suspect) => {
                const button = document.createElement("button");
                button.className = "p-4 bg-yellow-200 rounded hover:bg-yellow-300";
                button.textContent = suspect;
                button.addEventListener("click", () => finalizeGame(suspect));
                suspectsDiv.appendChild(button);
            });
        }

        function finalizeGame(suspect) {
            if (suspect === chosenLadrÃ³n) {
                score += 50;
                alert(`Â¡Correcto! Has atrapado al ladrÃ³n: ${chosenLadrÃ³n}. Ganaste 50 puntos.`);
            } else {
                alert(`Â¡Incorrecto! El ladrÃ³n era ${chosenLadrÃ³n} y escapÃ³.`);
            }
            document.getElementById("score").textContent = score;
            resetGame();
        }

        function resetGame() {
            document.getElementById("final-step").classList.add("hidden");
            document.getElementById("start-btn").classList.remove("hidden");
            document.getElementById("puntaje").classList.add("hidden");
        }

        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }
    </script>
</body>
</html>